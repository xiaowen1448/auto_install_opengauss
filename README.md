<<<<<<< HEAD
# openGauss è‡ªåŠ¨å®‰è£…è„šæœ¬

## âš ï¸ é‡è¦è­¦å‘Š

**ðŸš¨ æ­¤è„šæœ¬ä»…ä¾›æµ‹è¯•ã€å­¦ä¹ å’Œäº¤æµä½¿ç”¨ï¼Œä¸¥ç¦ç”¨äºŽç”Ÿäº§çŽ¯å¢ƒï¼**

- **æµ‹è¯•çŽ¯å¢ƒä¸“ç”¨**ï¼šæ­¤è„šæœ¬æœªç»è¿‡ç”Ÿäº§çŽ¯å¢ƒçš„å……åˆ†éªŒè¯å’Œå®‰å…¨å®¡è®¡
- **å­¦ä¹ ç›®çš„**ï¼šé€‚ç”¨äºŽå­¦ä¹ openGaussæ•°æ®åº“çš„å®‰è£…å’Œé…ç½®è¿‡ç¨‹
- **æŠ€æœ¯äº¤æµ**ï¼šå¯ç”¨äºŽæŠ€æœ¯ç ”è®¨å’Œæ¦‚å¿µéªŒè¯
- **ç”Ÿäº§ç¦ç”¨**ï¼šç”Ÿäº§çŽ¯å¢ƒè¯·ä½¿ç”¨å®˜æ–¹æŽ¨èçš„å®‰è£…æ–¹å¼å’Œé…ç½®

## è„šæœ¬æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªç”¨äºŽè‡ªåŠ¨å®‰è£…openGaussæ•°æ®åº“çš„Bashè„šæœ¬ï¼Œæ”¯æŒå¤šç‰ˆæœ¬é€‰æ‹©å’Œå¤šæž¶æž„è‡ªåŠ¨æ£€æµ‹ã€‚è„šæœ¬æä¾›äº†äº¤äº’å¼çš„ç‰ˆæœ¬é€‰æ‹©ç•Œé¢ï¼Œå¹¶èƒ½å¤Ÿè‡ªåŠ¨ä¸‹è½½ã€é…ç½®å’Œå®‰è£…openGaussæ•°æ®åº“ã€‚

## ä¸»è¦åŠŸèƒ½

### ðŸ”§ æ ¸å¿ƒç‰¹æ€§

1. **å¤šç‰ˆæœ¬æ”¯æŒ**
   - openGauss 7.0.0-RC1 - æœ€æ–°å€™é€‰å‘å¸ƒç‰ˆæœ¬
   - openGauss 6.0.2(LTS) - æœ€æ–°é•¿æœŸæ”¯æŒç‰ˆæœ¬ â­æŽ¨è
   - openGauss 7.0.0-RC1 - æœ€æ–°å€™é€‰å‘å¸ƒç‰ˆæœ¬
   - openGauss 6.0.0(LTS) - ç¨³å®šé•¿æœŸæ”¯æŒç‰ˆæœ¬
   - openGauss 6.0.0-RC1  - ç¨³å®šé•¿æœŸæ”¯æŒç‰ˆæœ¬
   - openGauss 5.0.3(LTS) - æˆç†Ÿç¨³å®šç‰ˆæœ¬
   - openGauss 5.0.2(LTS) - ç¨³å®šç‰ˆæœ¬
   - openGauss 5.0.1(LTS) - ç¨³å®šç‰ˆæœ¬
   - openGauss 5.0.0(LTS) - ç¨³å®šç‰ˆæœ¬

2. **å¤šæž¶æž„æ”¯æŒ**
   - x86_64 (Intel/AMD 64ä½)
   - AArch64 (ARM 64ä½)

3. **æ™ºèƒ½åŒ–å®‰è£…**
   - è‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿæž¶æž„
   - åŠ¨æ€æž„å»ºä¸‹è½½é“¾æŽ¥
   - æ™ºèƒ½ä¸»æœºåé…ç½®
   - è‡ªåŠ¨IPåœ°å€æ£€æµ‹

### ðŸ› ï¸ æŠ€æœ¯ç‰¹æ€§

#### ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿ
- å†…ç½®ç‰ˆæœ¬ä¿¡æ¯æ˜ å°„è¡¨
- åŠ¨æ€URLæž„å»ºæœºåˆ¶
- æ”¯æŒ5.xå’Œ6.x+ç‰ˆæœ¬çš„ä¸åŒå‘½åè§„åˆ™
- è‡ªåŠ¨OMåŒ…æ£€æµ‹å’Œè§£åŽ‹

#### ç½‘ç»œå’Œä¸‹è½½
- æ”¯æŒwgetå’ŒcurlåŒé‡ä¸‹è½½å·¥å…·
- æ–­ç‚¹ç»­ä¼ åŠŸèƒ½
- æ–‡ä»¶å®Œæ•´æ€§éªŒè¯
- ä¸‹è½½è¿›åº¦æ˜¾ç¤º

#### ç³»ç»Ÿé…ç½®
- ä¸»æœºåæ ¼å¼éªŒè¯
- è‡ªåŠ¨IPåœ°å€èŽ·å–
- é›†ç¾¤é…ç½®æ–‡ä»¶ç”Ÿæˆ
- ç”¨æˆ·å’Œæƒé™ç®¡ç†

#### è‡ªåŠ¨åŒ–å®‰è£…
- expectè„šæœ¬è‡ªåŠ¨åŒ–äº¤äº’
- é¢„å®‰è£…å’Œæ•°æ®åº“å®‰è£…åˆ†ç¦»
- é”™è¯¯å¤„ç†å’ŒçŠ¶æ€æ£€æŸ¥
- å®‰è£…åŽéªŒè¯

## ç³»ç»Ÿè¦æ±‚

### æ“ä½œç³»ç»Ÿ
- **æ”¯æŒ**: openEuler 22.03 /  openEuler 20.03 
- **æž¶æž„**: x86_64 æˆ– AArch64

### ç¡¬ä»¶è¦æ±‚
- **å†…å­˜**: å»ºè®®8GBä»¥ä¸Š
- **ç£ç›˜**: å»ºè®®50GBä»¥ä¸Šå¯ç”¨ç©ºé—´
- **ç½‘ç»œ**: éœ€è¦äº’è”ç½‘è¿žæŽ¥ä¸‹è½½å®‰è£…åŒ…

### è½¯ä»¶ä¾èµ–
è„šæœ¬ä¼šè‡ªåŠ¨å®‰è£…ä»¥ä¸‹ä¾èµ–ï¼š
- `tar` - è§£åŽ‹å·¥å…·
- `expect` - è‡ªåŠ¨åŒ–äº¤äº’å·¥å…·
- `wget` æˆ– `curl` - ä¸‹è½½å·¥å…·

## ä½¿ç”¨æ–¹æ³•

### 1. ä¸‹è½½è„šæœ¬
```bash
# ä¸‹è½½è„šæœ¬åˆ°ç›®æ ‡æœåŠ¡å™¨
wget https://your-repo/install_opengauss.sh
# æˆ–ä½¿ç”¨å…¶ä»–æ–¹å¼èŽ·å–è„šæœ¬
```

### 2. è®¾ç½®æƒé™
```bash
chmod +x install_opengauss.sh
```

### 3. è¿è¡Œè„šæœ¬
```bash
# ä»¥rootç”¨æˆ·è¿è¡Œ
sudo ./install_opengauss.sh
```

### 4. äº¤äº’å¼é€‰æ‹©
è„šæœ¬è¿è¡ŒåŽä¼šæ˜¾ç¤ºï¼š
- æ”¯æŒçš„ç‰ˆæœ¬åˆ—è¡¨
- ç³»ç»Ÿæž¶æž„ä¿¡æ¯
- ç‰ˆæœ¬é€‰æ‹©èœå•

æŒ‰æç¤ºè¾“å…¥æ•°å­—é€‰æ‹©è¦å®‰è£…çš„ç‰ˆæœ¬ã€‚

## é…ç½®è¯´æ˜Ž

### é»˜è®¤é…ç½®
```bash
DEFAULT_PASSWORD="Admin@2025"  # é»˜è®¤å¯†ç 
HOSTNAME=host01                # é»˜è®¤ä¸»æœºå
```

### æ•°æ®åº“é…ç½®
- **ç«¯å£**: 15400
- **ç”¨æˆ·**: omm
- **æ•°æ®åº“**: postgres
- **å®‰è£…è·¯å¾„**: /opt/huawei/install/

### é›†ç¾¤é…ç½®
è„šæœ¬ä¼šè‡ªåŠ¨ç”Ÿæˆ `cluster_config.xml` é…ç½®æ–‡ä»¶ï¼ŒåŒ…å«ï¼š
- é›†ç¾¤åç§°: dbCluster
- èŠ‚ç‚¹ä¿¡æ¯: è‡ªåŠ¨æ£€æµ‹çš„IPå’Œä¸»æœºå
- æ•°æ®è·¯å¾„: /opt/huawei/install/data/dn
- æ—¥å¿—è·¯å¾„: /var/log/omm

## å®‰è£…è¿‡ç¨‹

### è‡ªåŠ¨åŒ–æ­¥éª¤
1. **ç³»ç»Ÿæ£€æŸ¥**: æž¶æž„æ£€æµ‹ã€ç‰ˆæœ¬éªŒè¯
2. **ä¸‹è½½**: è‡ªåŠ¨ä¸‹è½½å¯¹åº”ç‰ˆæœ¬çš„å®‰è£…åŒ…
3. **è§£åŽ‹**: è§£åŽ‹ä¸»å®‰è£…åŒ…å’ŒOMç®¡ç†åŒ…
4. **é…ç½®**: ç”Ÿæˆé›†ç¾¤é…ç½®æ–‡ä»¶
5. **é¢„å®‰è£…**: åˆ›å»ºç”¨æˆ·ã€è®¾ç½®æƒé™
6. **å®‰è£…**: æ‰§è¡Œæ•°æ®åº“å®‰è£…
7. **éªŒè¯**: æ£€æŸ¥å®‰è£…çŠ¶æ€

### é¢„æœŸè¾“å‡º
å®‰è£…æˆåŠŸåŽä¼šæ˜¾ç¤ºï¼š
- æ•°æ®åº“ç‰ˆæœ¬ä¿¡æ¯
- è¿žæŽ¥ä¿¡æ¯ï¼ˆç”¨æˆ·åã€å¯†ç ã€ç«¯å£ï¼‰
- å¸¸ç”¨ç®¡ç†å‘½ä»¤
- æ³¨æ„äº‹é¡¹

## å¸¸ç”¨å‘½ä»¤

å®‰è£…å®ŒæˆåŽï¼Œä½¿ç”¨ommç”¨æˆ·æ‰§è¡Œï¼š

```bash
# åˆ‡æ¢åˆ°ommç”¨æˆ·
su - omm

# æŸ¥çœ‹æ•°æ®åº“çŠ¶æ€
gs_om -t status

# è¿žæŽ¥æ•°æ®åº“
gsql -d postgres -p 15400

# å¯åŠ¨æ•°æ®åº“
gs_om -t start

# åœæ­¢æ•°æ®åº“
gs_om -t stop

# é‡å¯æ•°æ®åº“
gs_om -t restart
```

## æŠ€æœ¯æž¶æž„

### è„šæœ¬ç»“æž„
```
install_opengauss.sh
â”œâ”€â”€ å…¨å±€å˜é‡å®šä¹‰
â”œâ”€â”€ ç‰ˆæœ¬ä¿¡æ¯æ˜ å°„
â”œâ”€â”€ URLæž„å»ºå‡½æ•°
â”œâ”€â”€ ç³»ç»Ÿæ£€æµ‹å‡½æ•°
â”œâ”€â”€ ä¸‹è½½ç®¡ç†å‡½æ•°
â”œâ”€â”€ é…ç½®ç”Ÿæˆå‡½æ•°
â”œâ”€â”€ å®‰è£…æ‰§è¡Œå‡½æ•°
â””â”€â”€ ä¸»æµç¨‹æŽ§åˆ¶
```

### å…³é”®å‡½æ•°
- `detect_architecture()`: ç³»ç»Ÿæž¶æž„æ£€æµ‹
- `build_download_url()`: åŠ¨æ€URLæž„å»º
- `show_version_menu()`: äº¤äº’å¼ç‰ˆæœ¬é€‰æ‹©
- `download_opengauss()`: æ™ºèƒ½ä¸‹è½½ç®¡ç†
- `validate_hostname()`: ä¸»æœºåéªŒè¯
- `get_local_ip()`: IPåœ°å€èŽ·å–

## å®‰å…¨æ³¨æ„äº‹é¡¹

### âš ï¸ å®‰å…¨é£Žé™©
1. **ç¡¬ç¼–ç å¯†ç **: è„šæœ¬ä¸­åŒ…å«é»˜è®¤å¯†ç 
2. **ç½‘ç»œä¸‹è½½**: ä»Žäº’è”ç½‘ä¸‹è½½å®‰è£…åŒ…
3. **ç³»ç»Ÿä¿®æ”¹**: ä¿®æ”¹ä¸»æœºåå’Œç³»ç»Ÿé…ç½®
4. **ç”¨æˆ·åˆ›å»º**: è‡ªåŠ¨åˆ›å»ºç³»ç»Ÿç”¨æˆ·
5. **æƒé™æå‡**: éœ€è¦rootæƒé™æ‰§è¡Œ

### ðŸ”’ å®‰å…¨å»ºè®®
1. **ä»…æµ‹è¯•çŽ¯å¢ƒä½¿ç”¨**
2. **ä¿®æ”¹é»˜è®¤å¯†ç **
3. **éªŒè¯ä¸‹è½½æº**
4. **å®¡æŸ¥é…ç½®æ–‡ä»¶**
5. **ç›‘æŽ§å®‰è£…è¿‡ç¨‹**

## æ•…éšœæŽ’é™¤

### å¸¸è§é—®é¢˜

1. **ä¸‹è½½å¤±è´¥**
   - æ£€æŸ¥ç½‘ç»œè¿žæŽ¥
   - éªŒè¯ä¸‹è½½é“¾æŽ¥
   - å°è¯•æ‰‹åŠ¨ä¸‹è½½

2. **æƒé™é”™è¯¯**
   - ç¡®ä¿ä»¥rootç”¨æˆ·è¿è¡Œ
   - æ£€æŸ¥ç›®å½•æƒé™
   - éªŒè¯ç”¨æˆ·åˆ›å»º

3. **å®‰è£…å¤±è´¥**
   - æŸ¥çœ‹é”™è¯¯æ—¥å¿—
   - æ£€æŸ¥ç³»ç»Ÿè¦æ±‚
   - éªŒè¯é…ç½®æ–‡ä»¶

4. **è¿žæŽ¥é—®é¢˜**
   - æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
   - éªŒè¯ç«¯å£é…ç½®
   - ç¡®è®¤æœåŠ¡çŠ¶æ€

### æ—¥å¿—ä½ç½®
- å®‰è£…æ—¥å¿—: `/var/log/omm/`
- æ•°æ®åº“æ—¥å¿—: `/opt/huawei/install/data/dn/pg_log/`

## ç‰ˆæœ¬åŽ†å²

- **å½“å‰ç‰ˆæœ¬**: åŠ¨æ€ç‰ˆæœ¬é€‰æ‹© - å†…ç½®URLç‰ˆæœ¬
- **ç‰¹æ€§**: æ”¯æŒå¤šç‰ˆæœ¬è‡ªåŠ¨é€‰æ‹©å’Œå¤šæž¶æž„æ£€æµ‹

## è®¸å¯è¯

æ­¤è„šæœ¬ä»…ä¾›å­¦ä¹ å’Œæµ‹è¯•ä½¿ç”¨ï¼Œè¯·éµå®ˆopenGaussçš„ç›¸å…³è®¸å¯è¯æ¡æ¬¾ã€‚

## å…è´£å£°æ˜Ž

**é‡è¦æé†’**ï¼š
- æ­¤è„šæœ¬æœªç»è¿‡ç”Ÿäº§çŽ¯å¢ƒéªŒè¯
- ä½¿ç”¨è€…éœ€è‡ªè¡Œæ‰¿æ‹…ä½¿ç”¨é£Žé™©
- å»ºè®®åœ¨éš”ç¦»çš„æµ‹è¯•çŽ¯å¢ƒä¸­ä½¿ç”¨
- ç”Ÿäº§çŽ¯å¢ƒè¯·ä½¿ç”¨å®˜æ–¹å®‰è£…æŒ‡å—

---

**ðŸ“ž æŠ€æœ¯æ”¯æŒ**: å¦‚æœ‰é—®é¢˜ï¼Œè¯·å‚è€ƒopenGausså®˜æ–¹æ–‡æ¡£æˆ–ç¤¾åŒºæ”¯æŒ
**ðŸ”— å®˜æ–¹ç½‘ç«™**: https://opengauss.org/
**ðŸ“š å®˜æ–¹æ–‡æ¡£**: https://docs.opengauss.org/
=======

# openGaussæ•°æ®åº“è‡ªåŠ¨å®‰è£…è„šæœ¬
# é€‚ç”¨äºŽopenEuler 22.03 ARM64ç³»ç»Ÿ
# ç‰ˆæœ¬: openGauss 6.0.0
æ‰§è¡Œæ­¥éª¤ï¼š
./install_opengauss.sh

æ•°æ®ç‰ˆæœ¬å›ºå®šä¸ºï¼šopenGauss-All-6.0.0-openEuler22.03-aarch64.tar.gz
>>>>>>> cef514491d537c5749b1ff34f72c1392e018aece
